<form [formGroup]="categoriesForm">
  <ng-container
    *ngFor="let link of categories.controls; let i = index"
    formArrayName="categories"
  >
    <recon-form-input
      label=""
      [formControlName]="i"
      [isWithCloseIcon]="true"
      [closeTooltip]="closeTooltip"
      (clickIcon)="removeCategory(i)"
    ></recon-form-input>
  </ng-container>

  <div class="add-item-to-list-container">
    <span (click)="addCategory()">+ Add category...</span>
  </div>

  <div class="button-container">
    <button
      mat-raised-button
      color="primary"
      [disabled]="loadingUpdateStatus || !categoriesForm.valid"
      (click)="sendCategories()"
    >
      <mat-icon *ngIf="loadingUpdateStatus; else loaded">
        <mat-spinner color="primary" diameter="20"></mat-spinner>
      </mat-icon>
      <ng-template #loaded>SAVE</ng-template>
    </button>
  </div>
</form>
