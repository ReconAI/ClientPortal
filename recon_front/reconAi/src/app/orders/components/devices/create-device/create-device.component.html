<form [formGroup]="deviceForm" (ngSubmit)="sendDevice()">
  <mat-error *ngIf="validationError">
    {{ formedValidationError }}
  </mat-error>
  <recon-form-input
    label="Name"
    placeholder="Name"
    formControlName="name"
    [showRequiredSymbol]="true"
  ></recon-form-input>

  <recon-form-select
    formControlName="manufacturer"
    [showRequiredSymbol]="true"
    [options]="manufactureOptions"
    label="Manufacture"
  >
  </recon-form-select>
  <div>
    <span class="add-manufacture-label" (click)="openCreateManufactureDialog()"
      >+ Add new manufacture</span
    >
  </div>
  <recon-form-file-with-list
    accept=".jpg, .png, .jpeg, .bmp, .tif, .tiff|image/*"
    [parentForm]="deviceForm"
    field="images"
    label="Add image"
  ></recon-form-file-with-list>
  <recon-form-input
    label="Product number"
    placeholder="Product number"
    formControlName="product"
    [showRequiredSymbol]="true"
  ></recon-form-input>
  <recon-form-input
    label="Technical description"
    placeholder="Technical description"
    formControlName="description"
    [showRequiredSymbol]="true"
    fieldType="textarea"
  ></recon-form-input>
  <div class="price-container">
    <div>
      <recon-form-input
        label="Buying price per device"
        placeholder="Buying price"
        formControlName="buyingPrice"
        [showRequiredSymbol]="true"
      ></recon-form-input>
    </div>
    <div>
      <recon-form-input
        label="Sales price per device"
        placeholder="Sales price"
        formControlName="salesPrice"
        [showRequiredSymbol]="true"
      ></recon-form-input>
    </div>
  </div>
  <recon-form-chips
    [parentForm]="deviceForm"
    field="seoTags"
    label="SEO tags"
    placeholder="Input and press Enter..."
    [showRequiredSymbol]="true"
  ></recon-form-chips>
  <recon-form-input
    label="SEO title"
    placeholder="SEO title"
    formControlName="seoTitle"
    [showRequiredSymbol]="true"
  ></recon-form-input>
  <recon-form-input
    label="SEO description"
    placeholder="SEO description"
    formControlName="seoDescription"
    [showRequiredSymbol]="true"
    fieldType="textarea"
  ></recon-form-input>
  <recon-form-select
    formControlName="category"
    [showRequiredSymbol]="true"
    [options]="categoryOptions"
    label="Category"
  >
  </recon-form-select>
  <div class="button-container">
    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="loading || !deviceForm.valid"
    >
      <mat-icon *ngIf="loading; else loaded">
        <mat-spinner color="primary" diameter="20"></mat-spinner>
      </mat-icon>
      <ng-template #loaded>SAVE</ng-template>
    </button>
    <button
      type="button"
      class="recon-white-button"
      (click)="cancelClick()"
      matRipple
    >
      CANCEL
    </button>
  </div>
</form>
